<input
  class="karma-input _search"
  ng-model="$ctrl.search"
  ng-change="$ctrl.onChange($ctrl.search)"
  placeholder="Search"
  type="text"/>


<div ng-if="$ctrl.search">

    <textarea
      class="karma-input _comment"
      ng-model="$ctrl.comment"
      placeholder="Write your post here"
    ></textarea>

    <button
      ng-disabled="!(($ctrl.comment.length > 10) && ($ctrl.comment.length < 10000))"
      ng-click="$ctrl.create($ctrl.search, $ctrl.comment)"
    >Post
    </button>
</div>


<div>

    <ul>
        <li ng-repeat="item in $ctrl.results.data">{{item.comment}}</li>
    </ul>

    <p ng-if="$ctrl.results.total">total: {{$ctrl.results.total}}</p>

    pagi {{$ctrl.pagesCount}}
    <ul class="pagination">
        <li ng-repeat="i in $ctrl.getNumber($ctrl.pagesCount) track by $index"
            ng-class="{'current': $index == $ctrl.currentPage-1}"
            ng-click="$ctrl.goToPage($index)"
        >
            <span>{{$index+1}}</span>
        </li>
    </ul>

</div>